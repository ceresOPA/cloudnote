# 操作系统

## 归纳篇

### 综述

#### 1. 可以说一下你对操作系统的理解吗？

- 操作系统是建立在计算机硬件资源之上的系统软件，它能够对计算机的硬件与软件资源进行管理，是用户与计算机硬件系统之间交互的接口，是对计算机裸机的扩展。

#### 2. 操作系统有哪些特征，其中哪些又是最重要的？

操作系统具有共享性、并发性、虚拟性、异步性，其中最重要的是共享和并发。

- 共享性，依赖于进程对资源的共享，从而能够为多道程序的实现提供前提。其中对临界资源的访问属于是互斥共享方式，而对像磁盘这样的设备则属于是同时访问方式。
- 并发性，并发的实现离不开资源的共享，可以说，**没有共享，就不存在并发，没有并发，就不存在共享的问题**。
- 虚拟性，指的是利用**时分复用**和**空分复用**技术来实现逻辑上的扩展，其中进程对处理机的交替占用以及虚拟设备实现的共享都是利用了**时分复用**技术，而虚拟存储器则主要用到了**空分复用**技术，即通过局部性原理，包括调入调出策略，从逻辑上实现一个比实际更大的存储空间。
- 异步性，异步性的产生源于进程的并发，其中异步性指的就是进程以一种不可预知的速度向前推进，但通过进程的同步机制，我们能够保证每次执行的最后结果都是相同的。

#### 3. 操作系统主要有哪些功能？

主要分为四大功能：

- 处理机管理
  - 进程调度，包括对进程的创建、销毁与进程状态的转换。
  - 进程通信，由于不同进程之间是不共享的，因此需要采用一定的通信方式才能进行信息的交换，一般有共享存储、消息传递和管道方式。
  - 进程安全？
- 存储器管理
  - 内存的分配与回收
  - 内存扩展，即指的是虚拟存储器，从逻辑上实现比实际大小大的多的存储空间
  - 地址映射，由于我们的各个程序的逻辑地址基本上各自都是从0开始的，但在实际的内存中，肯定是不可能都放在同一个地址的，因此需要通过地址映射，实现从逻辑地址到物理地址的转换，通常会使用到基地址寄存器，通过逻辑地址加上基地址寄存器的内存得到物理地址。
  - 内存保护，在多道程序中，同时会有多个进程位于内存中，为了保证各进程互不干扰，因此需要有内存保护机制，一般可以通过界限寄存器来判断是否发生越界。

- 文件管理
  - 文件系统，对诸多文件和文件的存储空间进行统一的管理。
  - 目录管理，每个文件都有一个对应的目录项，目录项中包含了文件名、文件属性和文件在磁盘中的物理地址。将众多的目录项组织起来，一般就会用到的是树形结构，这样就能够实现对文件的按名存取。
  - 文件的读写和保护
    - 文件读写由读/写指针来实现
    - 文件的保护是为了防止系统中的文件被非法窃取或破环
- 设备管理
  - 设备的分配与回收
  - 缓冲管理，为了有效缓和CPU与IO设备的速度不匹配的问题，提高CPU利用率，进而提高系统吞吐量。常见的缓冲机制有单缓冲机制、双缓冲机制、循环缓冲、公用缓冲池机制。
  - 设备处理，通过设备处理程序或称设备驱动程序来实现CPU与设备控制器之间的通信，CPU发出命令，设备控制器控制设备执行操作，设备控制器发出中断请求，CPU进行响应并处理。

#### 4. 操作系统的发展历程

- 手工阶段，作业的输入和输出都需要人手工的参与，CPU长期处于空闲状态，CPU利用率低。
- 单道批处理阶段，可以进行连续的处理，一次性装入一批作业，解决了人机矛盾，但由于每次内存中都只存有一道作业，因此利用率仍然低下，系统吞吐量不高。
- 多道批处理阶段，实现了作业的并发执行，CPU利用率高，系统吞吐量也得到提高，但在作业允许中，无法进行交互，只能在完全运行结束后才能知道结果，难于进行调试与维护。
- 分时操作系统，每个进行占用一个时间片，使得所有的进程都能够在一个固定的时间内均得到执行。实现了多路性(允许多用户操作)，独立性(每个用户相互独立，互不干扰)，交互性(能够通过系统提供的接口通过命令进行交互)，及时性(能够在很短的时间内对用户的操作进行响应)。

- 实时操作系统
  - 软实时，机票火车票订购系统
  - 硬实时，导弹控制系统
- 网络操作系统与分布式操作系统
  - 网络操作系统实现的是多系统之间的通信，每台主机可以做不同的事情。ui
  - 分布式操作系统，指的是通过多台主机并行完成同一件任务，在逻辑上感知到的只有一台主机。
- 嵌入式操作系统

#### 5. 操作系统的体系结构

- 层次结构
  - 结构清晰，每一次只依赖于相邻的下一层，调试方式，易于维护。但由于层次结构是单向依赖，因此若层次越多，那通信的代价就越大，效率很低。
- 模块化结构
  - 按照功能进行模块化的划分，各模块位于内核态，通信方便，效率高，但是往往并不能够完美地划分各模块，各模块间均可能存在密切的联系，同时采用模块化的方式下，若其中某ui
- 宏内核结构
- 微内核结构
- 外核结构

